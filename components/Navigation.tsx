"use client"

import React, {useState} from 'react';
import styles from './Navigation.module.css';
import Link from "next/link";
import { useAuth } from '@/contexts/AuthContext';
import LoginModal from '@/components/LoginModal';

const Navigation: React.FC = () => {
    const [isLoginModalOpen, setIsLoginModalOpen] = useState(false);
    const { user, login, logout, isAdmin } = useAuth();

    const handleLogin = async (username: string, password: string) => {
        return await login(username, password);
    };

    const handleLogout = () => {
        logout();
    };

    return (
        <div className={styles.container}>
            {/* Header Navigation */}
            <header className={styles.header}>
                <div className={styles.nav}>
                    <div className={styles.logo}>
                        <div className={styles.logoIcon}>
                            <svg width="32" height="32" viewBox="0 0 1080 1080">
                                <path d="M0 0 C356.4 0 712.8 0 1080 0 C1080 356.4 1080 712.8 1080 1080 C723.6 1080 367.2 1080 0 1080 C0 723.6 0 367.2 0 0 Z " fill="#3E699B" transform="translate(0,0)"/>
                                <path d="M0 0 C1.21236328 0.39614502 1.21236328 0.39614502 2.44921875 0.80029297 C48.43309911 15.98000822 85.1620857 47.25397554 108 90 C113.336241 100.63160867 117.59813755 111.60832268 121 123 C121.28488281 123.92039062 121.56976562 124.84078125 121.86328125 125.7890625 C128.51273861 149.45431073 130.10441897 176.35538076 123 200 C122.60530518 201.33635498 122.60530518 201.33635498 122.20263672 202.69970703 C112.01718693 236.54168537 95.39111831 268.60562413 77.6875 299.08691406 C75.88194484 302.20379545 74.09602779 305.33140359 72.3125 308.4609375 C64.98810176 321.28381367 57.44458906 333.93776108 49.59716797 346.44677734 C47.40916889 349.94449888 45.24380746 353.45601819 43.07763672 356.96728516 C33.545377 372.41357562 23.84905318 387.75386465 14 403 C14.62229492 403.07516846 15.24458984 403.15033691 15.88574219 403.2277832 C35.33516387 405.58847906 54.62541609 408.27927174 73.875 411.9375 C75.15834229 412.17831299 76.44168457 412.41912598 77.76391602 412.66723633 C86.33173372 414.32870983 94.65197108 416.46140758 103 419 C104.08539062 419.32492432 105.17078125 419.64984863 106.2890625 419.98461914 C125.75643902 425.91004579 145.88076689 432.79893894 161 447 C161.63679688 447.53625 162.27359375 448.0725 162.9296875 448.625 C169.5252703 454.51290224 174.27761521 463.35642844 175.23828125 472.19140625 C175.56474679 482.62112119 172.08140118 490.763405 165.2890625 498.60546875 C141.35933986 523.6377554 100.96403518 533.26184938 68 539 C67.35788574 539.11216858 66.71577148 539.22433716 66.05419922 539.33990479 C45.76351152 542.87131696 25.48208107 545.9740485 4.90234375 547.10546875 C4.16274855 547.14721914 3.42315334 547.18896954 2.66114616 547.23198509 C-14.07600149 548.1586236 -30.80123848 548.34150452 -47.56079102 548.31567383 C-50.81028062 548.31103751 -54.05939618 548.31801787 -57.30883789 548.33618164 C-86.78128935 548.49895989 -116.07825657 547.07067482 -145.25 542.625 C-146.3126004 542.46726105 -146.3126004 542.46726105 -147.39666748 542.30633545 C-187.54003314 536.34352751 -238.472485 527.80826499 -266.30859375 495.3046875 C-272.39450431 487.01210729 -273.87280657 478.08715024 -273 468 C-269.67098748 454.18259261 -258.7226968 444.77881414 -247.1328125 437.52734375 C-217.9130132 420.04827716 -183.2573109 413.02024923 -150 408 C-148.96858887 407.84160645 -147.93717773 407.68321289 -146.87451172 407.52001953 C-137.89623204 406.14975145 -128.93136718 404.81836909 -119.86328125 404.2109375 C-117.90922319 404.09784571 -117.90922319 404.09784571 -116 403 C-116.680625 401.93007813 -117.36125 400.86015625 -118.0625 399.7578125 C-126.48099782 386.49324213 -134.73923745 373.13257101 -142.9395752 359.73223877 C-144.00286534 357.99531938 -145.06725894 356.25908013 -146.13183594 354.52294922 C-156.3589317 337.83635875 -166.36046006 321.03494094 -176 304 C-176.63760254 302.87577637 -177.27520508 301.75155273 -177.93212891 300.59326172 C-229.52764599 209.30296015 -229.52764599 209.30296015 -229.3125 168.625 C-229.30404053 166.92597534 -229.30404053 166.92597534 -229.29541016 165.19262695 C-228.6137999 117.12560679 -206.55512914 74.04714512 -172.92431641 40.62182617 C-153.47650351 21.79530299 -128.59473102 8.30630178 -103 0 C-101.78441406 -0.39960938 -100.56882812 -0.79921875 -99.31640625 -1.2109375 C-68.45726259 -10.3620325 -30.53669231 -10.30983957 0 0 Z " fill="#3E699B" transform="translate(589,269)"/>
                                <path d="M0 0 C1.21236328 0.39614502 1.21236328 0.39614502 2.44921875 0.80029297 C48.43309911 15.98000822 85.1620857 47.25397554 108 90 C113.336241 100.63160867 117.59813755 111.60832268 121 123 C121.28488281 123.92039062 121.56976562 124.84078125 121.86328125 125.7890625 C128.51273861 149.45431073 130.10441897 176.35538076 123 200 C122.60530518 201.33635498 122.60530518 201.33635498 122.20263672 202.69970703 C112.01718693 236.54168537 95.39111831 268.60562413 77.6875 299.08691406 C75.88194484 302.20379545 74.09602779 305.33140359 72.3125 308.4609375 C64.98810176 321.28381367 57.44458906 333.93776108 49.59716797 346.44677734 C47.40916889 349.94449888 45.24380746 353.45601819 43.07763672 356.96728516 C33.545377 372.41357562 23.84905318 387.75386465 14 403 C14.62229492 403.07516846 15.24458984 403.15033691 15.88574219 403.2277832 C35.33516387 405.58847906 54.62541609 408.27927174 73.875 411.9375 C75.15834229 412.17831299 76.44168457 412.41912598 77.76391602 412.66723633 C86.33173372 414.32870983 94.65197108 416.46140758 103 419 C104.08539062 419.32492432 105.17078125 419.64984863 106.2890625 419.98461914 C125.75643902 425.91004579 145.88076689 432.79893894 161 447 C161.63679688 447.53625 162.27359375 448.0725 162.9296875 448.625 C169.5252703 454.51290224 174.27761521 463.35642844 175.23828125 472.19140625 C175.56474679 482.62112119 172.08140118 490.763405 165.2890625 498.60546875 C141.35933986 523.6377554 100.96403518 533.26184938 68 539 C67.35788574 539.11216858 66.71577148 539.22433716 66.05419922 539.33990479 C45.76351152 542.87131696 25.48208107 545.9740485 4.90234375 547.10546875 C4.16274855 547.14721914 3.42315334 547.18896954 2.66114616 547.23198509 C-14.07600149 548.1586236 -30.80123848 548.34150452 -47.56079102 548.31567383 C-50.81028062 548.31103751 -54.05939618 548.31801787 -57.30883789 548.33618164 C-86.78128935 548.49895989 -116.07825657 547.07067482 -145.25 542.625 C-146.3126004 542.46726105 -146.3126004 542.46726105 -147.39666748 542.30633545 C-187.54003314 536.34352751 -238.472485 527.80826499 -266.30859375 495.3046875 C-272.39450431 487.01210729 -273.87280657 478.08715024 -273 468 C-269.67098748 454.18259261 -258.7226968 444.77881414 -247.1328125 437.52734375 C-217.9130132 420.04827716 -183.2573109 413.02024923 -150 408 C-148.96858887 407.84160645 -147.93717773 407.68321289 -146.87451172 407.52001953 C-137.89623204 406.14975145 -128.93136718 404.81836909 -119.86328125 404.2109375 C-117.90922319 404.09784571 -117.90922319 404.09784571 -116 403 C-116.680625 401.93007813 -117.36125 400.86015625 -118.0625 399.7578125 C-126.48099782 386.49324213 -134.73923745 373.13257101 -142.9395752 359.73223877 C-144.00286534 357.99531938 -145.06725894 356.25908013 -146.13183594 354.52294922 C-156.3589317 337.83635875 -166.36046006 321.03494094 -176 304 C-176.63760254 302.87577637 -177.27520508 301.75155273 -177.93212891 300.59326172 C-229.52764599 209.30296015 -229.52764599 209.30296015 -229.3125 168.625 C-229.30404053 166.92597534 -229.30404053 166.92597534 -229.29541016 165.19262695 C-228.6137999 117.12560679 -206.55512914 74.04714512 -172.92431641 40.62182617 C-153.47650351 21.79530299 -128.59473102 8.30630178 -103 0 C-101.78441406 -0.39960938 -100.56882812 -0.79921875 -99.31640625 -1.2109375 C-68.45726259 -10.3620325 -30.53669231 -10.30983957 0 0 Z M-88 21 C-88.76086914 21.16064941 -89.52173828 21.32129883 -90.30566406 21.48681641 C-109.04749413 25.66661779 -127.97890286 35.14468642 -143 47 C-144.3303125 48.00353516 -144.3303125 48.00353516 -145.6875 49.02734375 C-177.92345392 74.18825546 -199.89352612 111.24652854 -205 152 C-205.25826823 156.33837788 -205.2809618 160.65502721 -205.25 165 C-205.25773437 166.08539063 -205.26546875 167.17078125 -205.2734375 168.2890625 C-205.24627708 179.66927672 -203.3976487 189.98950404 -199.5625 200.6875 C-199.21541992 201.66662354 -198.86833984 202.64574707 -198.51074219 203.65454102 C-175.74512444 266.46912278 -137.39214535 324.48837421 -101.73828125 380.67578125 C-99.07467212 384.87460637 -96.44121946 389.09177505 -93.8125 393.3125 C-90.78505075 398.16893385 -87.72789224 403.00392024 -84.625 407.8125 C-73.50496604 425.05714427 -62.72377398 442.50730452 -52 460 C-48.55436008 458.85145336 -48.34246549 458.38046631 -46.609375 455.37109375 C-46.1548999 454.59548096 -45.7004248 453.81986816 -45.23217773 453.02075195 C-44.74305908 452.16827881 -44.25394043 451.31580566 -43.75 450.4375 C-42.67524095 448.60555845 -41.5983213 446.77488319 -40.51953125 444.9453125 C-39.94928223 443.97625977 -39.3790332 443.00720703 -38.79150391 442.00878906 C-35.74784231 436.89703033 -32.59605995 431.85381571 -29.4375 426.8125 C-28.79925293 425.7930127 -28.16100586 424.77352539 -27.50341797 423.72314453 C-23.41229879 417.20649376 -19.25812346 410.7342852 -15.05566406 404.2890625 C-10.94988057 397.97154156 -6.99718736 391.56290726 -3.04638672 385.14770508 C0.91302774 378.72865437 4.93897882 372.35518333 9 366 C15.76886906 355.39525231 22.42169759 344.72390107 29 334 C29.66435059 332.91912109 30.32870117 331.83824219 31.01318359 330.72460938 C40.67296135 314.99824293 50.08092485 299.16180075 59 283 C59.78769775 281.57905029 59.78769775 281.57905029 60.59130859 280.12939453 C73.89946415 256.07125606 86.45042567 231.819395 96 206 C96.43094971 204.84177734 96.43094971 204.84177734 96.87060547 203.66015625 C108.1776555 172.86769022 103.69346647 138.10853311 90.21948242 108.61962891 C82.07472633 91.38809081 72.09369333 76.88866757 59 63 C58.34 62.27554688 57.68 61.55109375 57 60.8046875 C32.23436397 34.63191305 -6.32096719 18.19751936 -42 17 C-42.78197754 16.96745117 -43.56395508 16.93490234 -44.36962891 16.90136719 C-59.29949606 16.33668453 -73.3992735 17.87731655 -88 21 Z " fill="#FCFDFD" transform="translate(589,269)"/>
                                <path d="M0 0 C3.35546875 0.44921875 3.35546875 0.44921875 5.84765625 3.18359375 C6.66800097 4.50631613 7.46007022 5.84679646 8.23046875 7.19921875 C8.68043213 7.94002686 9.13039551 8.68083496 9.59399414 9.4440918 C10.61886457 11.13706861 11.63215589 12.83708781 12.63623047 14.54248047 C14.53378736 17.75070431 16.47371562 20.93177348 18.421875 24.109375 C23.99559844 33.21689537 29.54796886 42.33659425 34.9375 51.5546875 C35.47769775 52.47338623 36.01789551 53.39208496 36.57446289 54.33862305 C37.56277438 56.02384306 38.54304355 57.71381755 39.51342773 59.40942383 C41.96677885 63.58684904 44.12804253 66.84877299 48.35546875 69.44921875 C51.73200356 70.19117612 55.0765009 69.86904915 58.37548828 68.78613281 C61.18748713 66.88742681 62.30641586 64.62905376 63.97265625 61.68359375 C64.47322289 60.81165627 64.47322289 60.81165627 64.98390198 59.92210388 C65.70120306 58.67108597 66.41393258 57.41743789 67.12252808 56.16146851 C68.99847822 52.83901379 70.91019965 49.53727061 72.8203125 46.234375 C73.20363235 45.57000931 73.58695221 44.90564362 73.98188782 44.22114563 C77.96538964 37.34344309 82.17958985 30.6209247 86.53881836 23.97509766 C89.20106921 19.90775929 91.71179487 15.87374038 93.91796875 11.5390625 C94.32345947 10.78149658 94.7289502 10.02393066 95.14672852 9.2434082 C96.30375979 7.11761823 96.30375979 7.11761823 97.19506836 5.01635742 C98.39651691 2.80553959 99.19166106 1.76507036 101.35546875 0.44921875 C110.91867044 -0.9508328 121.00082889 0.77305975 130.48046875 2.13671875 C131.76308594 2.31533447 133.04570313 2.4939502 134.3671875 2.67797852 C148.08403881 4.61233346 161.74310863 6.8810782 175.35546875 9.44921875 C176.32887207 9.63033203 177.30227539 9.81144531 178.30517578 9.99804688 C203.83432445 14.87101697 235.62460639 22.95056546 253.109375 43.51171875 C254.35546875 45.44921875 254.35546875 45.44921875 254.48046875 48.69921875 C251.87309385 57.3904684 244.89111697 61.96007203 237.328125 66.37109375 C224.49481056 73.26581592 211.00577678 78.33325193 196.88037109 81.80737305 C194.92676831 82.30399089 192.98045789 82.829345 191.03759766 83.36645508 C181.92693889 85.87823877 172.78617125 87.85984649 163.48046875 89.51171875 C162.76825165 89.63961792 162.05603455 89.76751709 161.32223511 89.89929199 C148.04806335 92.2735611 134.7741468 94.09923744 121.35546875 95.44921875 C120.4458992 95.54214706 119.53632965 95.63507538 118.59919739 95.7308197 C97.37207989 97.82387194 76.16327353 97.84722822 54.85546875 97.82421875 C53.47781153 97.82408091 53.47781153 97.82408091 52.07232285 97.82394028 C25.38759419 97.82048927 -1.08547143 97.58051122 -27.54681396 93.74993896 C-29.69320375 93.44224126 -31.84137142 93.15195413 -33.99072266 92.86572266 C-119.44810425 81.40150304 -119.44810425 81.40150304 -143.64453125 54.44921875 C-146.00073562 50.91491219 -146.13444738 49.61350588 -145.64453125 45.44921875 C-138.65449347 31.16522849 -118.13766243 24.06232421 -103.97265625 19.171875 C-77.94242918 10.57207734 -51.20688212 5.56138289 -23.98095703 2.75878906 C-21.8022901 2.47012139 -19.77044348 1.99283978 -17.64453125 1.44921875 C-15.37697949 1.22550171 -13.10530301 1.04188248 -10.83203125 0.88671875 C-9.64996094 0.80292969 -8.46789062 0.71914063 -7.25 0.6328125 C-3.63047536 0.49170079 -3.63047536 0.49170079 0 0 Z " fill="#3E699B" transform="translate(485.64453125,695.55078125)"/>
                                <path d="M0 0 C11.63861035 9.76919625 21.00239208 25.05372959 22.48095703 40.35473633 C23.38703161 58.67905221 20.28484161 75.14531495 7.88671875 89.3359375 C6.36245692 90.93603325 4.82167038 92.52061598 3.26171875 94.0859375 C2.64683594 94.72402344 2.03195312 95.36210937 1.3984375 96.01953125 C-10.73526292 107.68555157 -26.94936646 111.60379845 -43.30297852 111.50805664 C-59.92333647 111.02906116 -73.13977286 103.62465976 -84.73828125 92.0859375 C-85.36476563 91.49425781 -85.99125 90.90257812 -86.63671875 90.29296875 C-90.75530433 86.07188443 -93.40323153 81.30253331 -96.05078125 76.0859375 C-96.38867676 75.42134521 -96.72657227 74.75675293 -97.07470703 74.07202148 C-103.6661766 60.49693163 -104.15726289 43.17962709 -99.67578125 28.8359375 C-92.90165586 11.67228273 -80.95398684 -1.05632553 -64.265625 -8.84765625 C-42.76644544 -17.91918024 -18.73582356 -13.09636739 0 0 Z " fill="#3E699B" transform="translate(577.73828125,384.9140625)"/>
                                <path d="M0 0 C16.42714336 13.99002081 29.07119414 33.51271863 31.73828125 55.33203125 C32.48980393 69.12914966 32.60097708 82.25360424 27.73828125 95.33203125 C27.36445312 96.38261719 26.990625 97.43320312 26.60546875 98.515625 C18.70955207 119.03977927 1.81745136 137.11100003 -18.25146484 146.23681641 C-20.30390256 147.10123191 -22.36679416 147.91771718 -24.44921875 148.70703125 C-25.07763672 148.94558838 -25.70605469 149.18414551 -26.35351562 149.42993164 C-35.17900437 152.58661822 -43.79347484 153.67792244 -53.13671875 153.58203125 C-54.10416016 153.57453857 -55.07160156 153.5670459 -56.06835938 153.55932617 C-79.87592257 153.20109199 -99.71968446 144.08554041 -116.26171875 127.33203125 C-117.08671875 126.50574219 -117.91171875 125.67945313 -118.76171875 124.828125 C-136.23249866 106.44249006 -141.07684549 83.53928978 -140.56640625 58.9296875 C-139.67726418 37.03548252 -127.08888007 16.97805444 -111.546875 2.19921875 C-80.28556024 -26.06184267 -32.32381725 -25.67534605 0 0 Z M-78.26171875 9.33203125 C-79.56109375 9.85796875 -79.56109375 9.85796875 -80.88671875 10.39453125 C-96.09056403 17.23626163 -107.04783523 30.08143806 -113.26171875 45.33203125 C-115.92191697 52.49813371 -116.7796635 59.02143393 -116.69921875 66.64453125 C-116.69164551 67.65418945 -116.68407227 68.66384766 -116.67626953 69.70410156 C-116.50332091 77.55874646 -115.52326827 84.10785148 -112.26171875 91.33203125 C-111.62556641 92.75322266 -111.62556641 92.75322266 -110.9765625 94.203125 C-107.46995437 101.24564439 -102.78596886 106.77915808 -97.26171875 112.33203125 C-96.67003906 112.95851563 -96.07835937 113.585 -95.46875 114.23046875 C-91.24766568 118.34905433 -86.47831456 120.99698153 -81.26171875 123.64453125 C-80.59712646 123.98242676 -79.93253418 124.32032227 -79.24780273 124.66845703 C-66.31171013 130.9496575 -49.84729338 131.61945336 -36.11328125 127.421875 C-19.39102573 121.03076638 -5.48333097 110.45657238 2.48828125 94.01953125 C8.74459254 79.02916162 10.68168423 61.73315333 4.9921875 46.2109375 C-2.75029435 28.43458509 -14.25764296 16.21929748 -32.16796875 8.51953125 C-46.48639936 3.02356798 -64.18632631 3.38908777 -78.26171875 9.33203125 Z " fill="#FDFDFE" transform="translate(592.26171875,366.66796875)"/>
                            </svg>

                        </div>
                        <span className={styles.logoText}>Investment Radar</span>
                    </div>

                    <nav className={styles.navLinks}>
                        <Link href="/" className={styles.navLink}>Start</Link>
                        <Link href={"/investmentTypes"} className={styles.navLink}>Erkunden</Link>
                        <Link className={styles.navLink} href={'/contact'}>Kontakt</Link>
                        <Link href={"/data"} className={styles.navLink}>Daten</Link>
                    </nav>

                    <div className={styles.authButtons}>
                        {user ? (
                            <div className={styles.userSection}>
                                <button
                                    className={styles.logoutBtn}
                                    onClick={handleLogout}
                                >
                                    Abmelden
                                </button>
                            </div>
                        ) : (
                            <>
                                <button
                                    className={styles.loginBtn}
                                    onClick={() => setIsLoginModalOpen(true)}
                                >
                                    Administrator
                                </button>
                            </>
                        )}
                    </div>
                </div>
            </header>

            <LoginModal
                isOpen={isLoginModalOpen}
                onClose={() => setIsLoginModalOpen(false)}
                onLogin={handleLogin}
            />
        </div>
    );
};

export default Navigation;